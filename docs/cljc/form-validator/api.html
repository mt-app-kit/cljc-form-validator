<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>cljc-form-validator 0.1.0.2 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Isomorphic namespaces</pre><a href="https://mt-app-kit.github.io/cljc-form-validator/cljc/form-validator/api.html"><pre class="button color--hard-blue text--m button--active">form-validator.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#autovalidate-form_"><pre class="button color--hard-blue text--m">autovalidate-form!</pre></a><a href="#autovalidate-input_"><pre class="button color--hard-blue text--m">autovalidate-input!</pre></a><a href="#dereg-form-input_"><pre class="button color--hard-blue text--m">dereg-form-input!</pre></a><a href="#get-form-inputs"><pre class="button color--hard-blue text--m">get-form-inputs</pre></a><a href="#get-input-error"><pre class="button color--hard-blue text--m">get-input-error</pre></a><a href="#get-input-validation-result"><pre class="button color--hard-blue text--m">get-input-validation-result</pre></a><a href="#get-input-validators"><pre class="button color--hard-blue text--m">get-input-validators</pre></a><a href="#get-input-value"><pre class="button color--hard-blue text--m">get-input-value</pre></a><a href="#input-changed"><pre class="button color--hard-blue text--m">input-changed</pre></a><a href="#input-left"><pre class="button color--hard-blue text--m">input-left</pre></a><a href="#reg-form-input_"><pre class="button color--hard-blue text--m">reg-form-input!</pre></a><a href="#validate-form_"><pre class="button color--hard-blue text--m">validate-form!</pre></a><a href="#validate-input_"><pre class="button color--hard-blue text--m">validate-input!</pre></a><a href="#validate-input-when-change_"><pre class="button color--hard-blue text--m">validate-input-when-change?</pre></a><a href="#validate-input-when-leave_"><pre class="button color--hard-blue text--m">validate-input-when-leave?</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Isomorphic namespace</pre><pre class="color--black text--xxl text--wrap text--bold">form-validator.api</pre></div><div class="sections"></div><div class="sections"><div class="section" id="get-form-inputs"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-form-inputs</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3b6bf2c0-2991-472c-be4a-c093930f913f"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3b6bf2c0-2991-472c-be4a-c093930f913f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-form-inputs
  [form-id]
  (letfn [(f0 [%] (-&gt; % :form-id (= form-id)))]
         (-&gt; (local-state/get-state :form-validator :form-inputs)
             (map/filter-values f0)
             (map/keys))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3306ab42-5592-4606-a13e-7374cf74a6aa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the IDs of inputs associated with the given form ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfb26ecc3-5970-49c5-a5a8-ecc0f75aec02"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-form-inputs :my-form)<br>=&gt;<br>[:my-input :another-input]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q39801812-dd32-42b0-a8c4-6bbe00ef17bc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd2a3554a-a7ef-42c3-8e01-833d41aff36e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre></div></div></div></div><div class="section" id="autovalidate-form_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">autovalidate-form!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qeaec2d63-e3e5-426d-82f2-a53e19f947b2"><button class="snippet--header" onClick="toggleCollapsible(&apos;qeaec2d63-e3e5-426d-82f2-a53e19f947b2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn autovalidate-form!
  [form-id]
  (let [form-inputs (form.env/get-form-inputs form-id)]
       (doseq [input-id form-inputs]
              (input.side-effects/autovalidate-input! input-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd9993666-e880-4858-8633-fb2925357c4a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Sets the ':validate-when-change?' property to TRUE of all inputs associated with the given form ID,<br>to ensure that the inputs are getting validated when their value changes.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6f87c1d5-1b22-4f65-a0bc-1e8a3cda1b35"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(autovalidate-form! :my-form)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q86ee73d3-beeb-461d-b56e-10ac4e7e1590"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div></div></div><div class="section" id="validate-form_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-form!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf4a0a7c4-00c0-4066-871c-f31a44731971"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf4a0a7c4-00c0-4066-871c-f31a44731971&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-form!
  [form-id {:keys [on-invalid-f on-valid-f] :as validation-props}]
  (let [form-inputs (form.env/get-form-inputs form-id)]
       (letfn [(f0 [input-id] (input.side-effects/validate-input! input-id {}))]
              (let [validation-results (vector/-&gt;items form-inputs f0)]
                   (letfn [(f0 [_] (on-valid-f))
                           (f1 [_] (on-invalid-f))]
                          (if (-&gt; validation-results (vector/all-items-match? :input-valid?))
                              (-&gt; validation-results f0)
                              (-&gt; validation-results f1)))
                   (-&gt; validation-results)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q88f0599b-5c23-499f-aef0-00398377d8b8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the validators of all inputs associated with the given form ID, and ...<br>... stores the ':error' values of INVALID inputs in the form validator state.<br>... clears the previously stored ':error' values of now VALID inputs from the form validator state.<br>... in case of ALL inputs are valid, fires the given ':on-valid' event.<br>... in case of ANY input is invalid, fires the given ':on-invalid' event.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q15f6a6c3-1b14-44a6-ae83-e59fd89a062f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-form! :my-form {...})<br>=&gt;<br>[{:input-id :my-input :input-value "..." :input-valid? true}<br> ...]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q7ff89401-8bb6-41b4-b873-0b6b3fc30945"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf77ea78c-d1ee-4bc8-b8de-c83f8447815e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf77ea78c-d1ee-4bc8-b8de-c83f8447815e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q86156659-eaf7-447f-80ac-76ddc99636f3"><button class="snippet--header" onClick="toggleCollapsible(&apos;q86156659-eaf7-447f-80ac-76ddc99636f3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">maps in vector</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(map) validation-result<br>  {:error (*)<br>   :input-id (keyword)<br>   :input-valid? (boolean)<br>   :input-value (*)}]</pre></div></div></div></div><div class="section" id="get-input-error"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-error</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q60ac4ef6-7836-441b-afc7-d76eaa42105a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q60ac4ef6-7836-441b-afc7-d76eaa42105a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-error
  [input-id]
  (local-state/get-state :form-validator input-id :error))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q47fcd880-7d55-4954-8151-294e5306a934"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the previously stored ':error' value of the input (if any).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4509c4c1-be48-4389-976e-2459420a7f9f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-error :my-input)<br>=&gt;<br>"Please fill out this field!"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6283589f-a1da-460b-9acd-3997cab740b8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q83661d29-5106-4028-bb88-3b8720b84f13"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="get-input-value"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-value</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4ca0efc0-3f1d-4399-a0af-cdefa841a4d5"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4ca0efc0-3f1d-4399-a0af-cdefa841a4d5&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-value
  [input-id]
  (if-let [get-value-f (local-state/get-state :form-validator input-id :get-value-f)]
          (get-value-f)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q77aa072c-3518-42a5-b529-dbcaa2c898aa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the 'get-value-f' function of the input and returns the result.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa7321b73-16ef-4661-b330-5f9b694b76f3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-value :my-input)<br>=&gt;<br>"..."</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcb43b012-e766-4efa-a2aa-c4e8484f18d4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1b253208-a244-45ce-a842-6baf6e400687"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="get-input-validators"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-validators</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6e6f789a-2f06-4c7b-aeae-57258046ee5a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6e6f789a-2f06-4c7b-aeae-57258046ee5a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-validators
  [input-id]
  (local-state/get-state :form-validator input-id :validators))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q075052a8-0bc6-4eab-8075-0210de8c35c9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the validators of the input.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe86e8b9c-2d8f-4222-a124-70ff4e7a3714"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validators :my-input)<br>=&gt;<br>[{:error "Please fill out this field!" :test-f #(-&gt; % empty? not)}]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb4b5fe61-b73f-4311-81de-f1763ed0d312"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q59124b5d-a17c-4353-9f50-6e4c5299cf4b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q59124b5d-a17c-4353-9f50-6e4c5299cf4b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">maps in vector</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(map) validator<br>  {:error (*)<br>   :test-f (function)}]</pre></div></div></div></div><div class="section" id="validate-input-when-change_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input-when-change?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q74bee0c2-2a8c-44ec-857e-d7e25725e1b0"><button class="snippet--header" onClick="toggleCollapsible(&apos;q74bee0c2-2a8c-44ec-857e-d7e25725e1b0&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input-when-change?
  [input-id]
  (local-state/get-state :form-validator input-id :validate-when-change?))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbe0ea502-4508-40d5-b358-acd246cc7b45"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the input is registered with the '{:validate-when-change? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q50ca4f3c-a5f3-4f13-a66d-0577ba6099cb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input-when-change? :my-input)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qec8d327d-cced-401f-867d-c5919516169b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q99d5df17-8672-4f05-bc25-44a37f9ecb10"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="validate-input-when-leave_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input-when-leave?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe498c901-23e8-4a8d-9466-4a122a29397a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe498c901-23e8-4a8d-9466-4a122a29397a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input-when-leave?
  [input-id]
  (local-state/get-state :form-validator input-id :validate-when-leave?))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q41d63d67-e0ef-413a-a1a0-f827c174c88a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the input is registered with the '{:validate-when-leave? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q430aaa06-900a-449f-a101-a597709063e7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input-when-leave? :my-input)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q017e80cd-71a8-45a6-8728-4dd0bedb3dbd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd04b7af3-1017-4180-85f2-6f036c94c55d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="get-input-validation-result"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-validation-result</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0cb24ffa-ec6c-412e-bc5b-17fbb1cb2745"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0cb24ffa-ec6c-412e-bc5b-17fbb1cb2745&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-validation-result
  [input-id]
  (let [input-value      (get-input-value      input-id)
        input-validators (get-input-validators input-id)]
       (letfn [(f0 [{:keys [test-f error]}]
                   (if test-f (if-not (-&gt; input-value test-f)
                                      (-&gt; error (or :invalid-input-value)))))]
              (if-let [error (vector/first-result input-validators f0)]
                      {:input-id input-id :input-value input-value :input-valid? false :error error}
                      {:input-id input-id :input-value input-value :input-valid? true}))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q911ad911-7e44-4ad2-bc73-faaf7a11ea4c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Applies the validators of the input and returns the result of the validation.<br>- Stops applying further validators in case of one failed.<br>- The returned result contains the invalid message of the first failed validator.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5551e03d-c373-46bd-a01a-325b5ddc67cb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? false :error "Please fill out this field!"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3af4ced8-74b9-423a-8767-56a1a690082c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? true}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa504c720-9a12-4197-b9a7-627057069631"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q57630f48-c761-42c3-8960-8d871e17cc7e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q57630f48-c761-42c3-8960-8d871e17cc7e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:error (*)<br> :input-id (keyword)<br> :input-valid? (boolean)<br> :input-value (*)}</pre></div></div></div></div><div class="section" id="reg-form-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-form-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8840ad86-cd17-43ed-89e3-f2d72c2a94ba"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8840ad86-cd17-43ed-89e3-f2d72c2a94ba&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-form-input!
  [input-id input-props]
  (local-state/update-state! :form-validator assoc input-id input-props))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q92c9c762-c155-474c-a0a8-0c917bc694f7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stores the given properties of the input (in the form validator state).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc9e75115-ff62-456c-8bdb-06076db31f8a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-form-input! :my-input {:form-id     :my-form<br>                            :get-value-f #(deref MY-ATOM)<br>                            :validators  [{:error "Please fill out this field!" :test-f #(-&gt; % empty? not)}]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbe0d4752-2e8d-43a2-857a-88b61a016c12"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3cb6dcff-5f13-4a3e-bde4-047d5debbc71"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3cb6dcff-5f13-4a3e-bde4-047d5debbc71&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:form-id (keyword)(opt)<br> :get-value-f (function)<br> :validate-when-change? (boolean)(opt)<br> :validate-when-leave? (boolean)(opt)<br> :validators (maps in vector)(opt)<br>  [{:error (*)(opt)<br>    :test-f (function)}]<br> ...}</pre></div></div></div></div><div class="section" id="dereg-form-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">dereg-form-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q861d0aa0-f06f-40a9-91cf-81a7ac955fad"><button class="snippet--header" onClick="toggleCollapsible(&apos;q861d0aa0-f06f-40a9-91cf-81a7ac955fad&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn dereg-form-input!
  [input-id]
  (local-state/update-state! :form-validator dissoc input-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa7c8c01a-a2eb-45d0-a04a-c26515ec3dcd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes the properties of the input (from the form validator state).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb4163af0-6fa5-42e3-a71f-1114c01ca9af"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(dereg-form-input! :my-input)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q367cb2f2-9947-4ddc-a03f-c4a7703ceb5c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div></div></div><div class="section" id="autovalidate-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">autovalidate-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2c31d9fb-88f1-4b1c-bb1a-64636df74fcd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2c31d9fb-88f1-4b1c-bb1a-64636df74fcd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn autovalidate-input!
  [input-id]
  (local-state/update-state! :form-validator assoc-in [input-id :validate-when-change?] true))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe75d5c95-7ab3-4668-80b7-c3a20d6d263d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Sets the ':validate-when-change?' property to TRUE of the input, to ensure that it is getting validated when its value changes.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf3d79224-cee1-4c10-b3a1-a07338785876"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(autovalidate-input! :my-input)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfa6161e6-c43b-4d9d-a899-7c3526d87f01"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div></div></div><div class="section" id="validate-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf13d9896-d469-4ba9-828c-64d087d0e18e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf13d9896-d469-4ba9-828c-64d087d0e18e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input!
  [input-id {:keys [on-invalid-f on-valid-f]}]
  (let [validation-result (input.env/get-input-validation-result input-id)]
       (letfn [(f0 [_] (local-state/update-state! :form-validator dissoc-in [input-id :error]))
               (f1 [%] (local-state/update-state! :form-validator assoc-in  [input-id :error] (:error %)))
               (f2 [%] (if on-valid-f   (on-valid-f   (:input-value %))))
               (f3 [%] (if on-invalid-f (on-invalid-f (:input-value %) (:error %))))]
              (when (-&gt; validation-result :input-valid?)
                    (-&gt; validation-result f0)
                    (-&gt; validation-result f2))
              (when (-&gt; validation-result :input-valid? not)
                    (-&gt; validation-result f1)
                    (-&gt; validation-result f3))
              (-&gt; validation-result))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8997d61e-8424-45db-82b3-dd4ddbffc330"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the validators of the input ...<br>... and in case of ANY validator failed, it ...<br>    ... stores the ':error' value of the first failed validator in the form validator state,<br>    ... fires the given ':on-invalid-f' function (if any),<br>... and in case of NO validator failed, it ...<br>    ... clears the previously stored ':error' value (if any) from the form validator state,<br>    ... fires the given ':on-valid-f' function (if any),</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8c86ec34-4a3c-47b6-b3f6-e7ec2431754a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input! :my-input {...})<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? true}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qefd61ab1-6d83-4a9c-9887-10856f3ec6a4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q55b672b4-18b8-4542-b22e-0836950b5f9e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q55b672b4-18b8-4542-b22e-0836950b5f9e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q27d822fb-8009-4408-96e1-74b71789cf65"><button class="snippet--header" onClick="toggleCollapsible(&apos;q27d822fb-8009-4408-96e1-74b71789cf65&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:error (*)<br> :input-id (keyword)<br> :input-valid? (boolean)<br> :input-value (*)}</pre></div></div></div></div><div class="section" id="input-changed"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">input-changed</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q326007a4-1f3c-49a3-af0b-02915974b96b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q326007a4-1f3c-49a3-af0b-02915974b96b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn input-changed
  [input-id validation-props]
  (if (input.env/validate-input-when-change? input-id)
      (validate-input!                       input-id validation-props)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q07f56059-b940-4c22-b8bb-db0def2bef9b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Validates the input in case it is registered with the '{:validate-when-change? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q11eb4c95-ee78-48f3-b79d-103a81bb33e6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(input-changed :my-input {...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q53ac1cfb-b872-4afb-b5aa-8c411e163280"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7e757113-7825-4dea-ba1b-bb74429d2c69"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7e757113-7825-4dea-ba1b-bb74429d2c69&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div></div></div><div class="section" id="input-left"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">input-left</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6aa237a0-c747-4c10-9554-d3c21247766f"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6aa237a0-c747-4c10-9554-d3c21247766f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn input-left
  [input-id validation-props]
  (if (input.env/validate-input-when-leave? input-id)
      (validate-input!                      input-id validation-props)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf297b876-d91e-4c54-9c00-208c61b54192"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Validates the input in case it is registered with the '{:validate-when-leave? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaf7e410d-a38b-4c82-9bfc-cf971ed48699"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(input-left :my-input {...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1a3f3a0b-df91-4dc8-b72f-b2519cde3193"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q712ab81d-4351-46ad-ae04-bf42b068d938"><button class="snippet--header" onClick="toggleCollapsible(&apos;q712ab81d-4351-46ad-ae04-bf42b068d938&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">cljc-form-validator</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.1.0.2</pre><a class="text--s" href="https://github.com/mt-app-kit/cljc-form-validator" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-app-kit/cljc-form-validator</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
