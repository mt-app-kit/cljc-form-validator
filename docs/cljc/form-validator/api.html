<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>cljc-form-validator 0.1.0.6 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Isomorphic namespaces</pre><a href="https://mt-app-kit.github.io/cljc-form-validator/cljc/form-validator/api.html"><pre class="button color--hard-blue text--m button--active">form-validator.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#autovalidate-form_"><pre class="button color--hard-blue text--m">autovalidate-form!</pre></a><a href="#autovalidate-input_"><pre class="button color--hard-blue text--m">autovalidate-input!</pre></a><a href="#dereg-form-input_"><pre class="button color--hard-blue text--m">dereg-form-input!</pre></a><a href="#get-form-inputs"><pre class="button color--hard-blue text--m">get-form-inputs</pre></a><a href="#get-input-error"><pre class="button color--hard-blue text--m">get-input-error</pre></a><a href="#get-input-validation-result"><pre class="button color--hard-blue text--m">get-input-validation-result</pre></a><a href="#get-input-validators"><pre class="button color--hard-blue text--m">get-input-validators</pre></a><a href="#get-input-value"><pre class="button color--hard-blue text--m">get-input-value</pre></a><a href="#input-changed"><pre class="button color--hard-blue text--m">input-changed</pre></a><a href="#input-left"><pre class="button color--hard-blue text--m">input-left</pre></a><a href="#reg-form-input_"><pre class="button color--hard-blue text--m">reg-form-input!</pre></a><a href="#validate-form_"><pre class="button color--hard-blue text--m">validate-form!</pre></a><a href="#validate-input_"><pre class="button color--hard-blue text--m">validate-input!</pre></a><a href="#validate-input-when-change_"><pre class="button color--hard-blue text--m">validate-input-when-change?</pre></a><a href="#validate-input-when-leave_"><pre class="button color--hard-blue text--m">validate-input-when-leave?</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Isomorphic namespace</pre><pre class="color--black text--xxl text--wrap text--bold">form-validator.api</pre></div><div class="sections"></div><div class="sections"><div class="section" id="get-form-inputs"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-form-inputs</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q719ed82a-06a2-45c1-a9bb-d3ae177400e8"><button class="snippet--header" onClick="toggleCollapsible(&apos;q719ed82a-06a2-45c1-a9bb-d3ae177400e8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-form-inputs
  [form-id]
  (letfn [(f0 [%] (-&gt; % :form-id (= form-id)))]
         (-&gt; (common-state/get-state :form-validator :form-inputs)
             (map/filter-values f0)
             (map/keys))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q007a272b-cd36-4f0b-b524-1e1a85d3f860"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the IDs of inputs associated with the given form ID.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb2e310ba-8924-434e-a310-5c7e228c1c19"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-form-inputs :my-form)<br>=&gt;<br>[:my-input :another-input]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q990ee720-5a4d-48aa-99f0-3a24be7271d0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc7e4e50b-fa18-474b-95ad-7da540528aab"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre></div></div></div></div><div class="section" id="autovalidate-form_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">autovalidate-form!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q63cdcdfa-7ab2-4f8b-a324-9ecaa679fc73"><button class="snippet--header" onClick="toggleCollapsible(&apos;q63cdcdfa-7ab2-4f8b-a324-9ecaa679fc73&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn autovalidate-form!
  [form-id]
  (let [form-inputs (form.env/get-form-inputs form-id)]
       (doseq [input-id form-inputs]
              (input.side-effects/autovalidate-input! input-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9b1c9a90-2208-4450-88e9-4464998e2b71"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Sets the ':validate-when-change?' property to TRUE of all inputs associated with the given form ID,<br>to ensure that the inputs are getting validated when their value changes.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q403030f7-5940-4258-8429-f556dbd5bb8b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(autovalidate-form! :my-form)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q07e26ea4-9e8e-476a-a564-f0df9f016701"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div></div></div><div class="section" id="validate-form_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-form!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9a19d00d-62f3-4d24-9533-1a680bd40994"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9a19d00d-62f3-4d24-9533-1a680bd40994&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-form!
  [form-id {:keys [on-invalid-f on-valid-f] :as validation-props}]
  (let [form-inputs (form.env/get-form-inputs form-id)]
       (letfn [(f0 [input-id] (input.side-effects/validate-input! input-id {}))]
              (let [validation-results (vector/-&gt;items form-inputs f0)]
                   (letfn [(f0 [_] (on-valid-f))
                           (f1 [_] (on-invalid-f))]
                          (if (-&gt; validation-results (vector/all-items-match? :input-valid?))
                              (-&gt; validation-results f0)
                              (-&gt; validation-results f1)))
                   (-&gt; validation-results)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q09e7c662-d5a6-42b9-8cab-c475d169cfc3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the validators of all inputs associated with the given form ID, and ...<br>... stores the ':error' values of INVALID inputs in the form validator state.<br>... clears the previously stored ':error' values of now VALID inputs from the form validator state.<br>... in case of ALL inputs are valid, fires the given ':on-valid' event.<br>... in case of ANY input is invalid, fires the given ':on-invalid' event.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q487547a0-df77-4270-88ed-a86d3b5c28c6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-form! :my-form {...})<br>=&gt;<br>[{:input-id :my-input :input-value "..." :input-valid? true}<br> ...]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb6b71ad3-ea92-4e68-8a03-f88351b5b63d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">form-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4863dacd-2271-4e23-9570-1135e93dd59b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4863dacd-2271-4e23-9570-1135e93dd59b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd1b80100-6ead-4a8c-93d8-a62b526cfdcb"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd1b80100-6ead-4a8c-93d8-a62b526cfdcb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">maps in vector</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(map) validation-result<br>  {:error (*)<br>   :input-id (keyword)<br>   :input-valid? (boolean)<br>   :input-value (*)}]</pre></div></div></div></div><div class="section" id="get-input-error"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-error</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc23da32d-60a1-4603-be4b-86f5ec6de986"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc23da32d-60a1-4603-be4b-86f5ec6de986&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-error
  [input-id]
  (common-state/get-state :form-validator input-id :error))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbf0e3bff-4d4d-46b4-a2e0-fdee5b87ace3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the previously stored ':error' value of the input (if any).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf3d92a1e-a3b6-4755-a91b-48fc9be79224"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-error :my-input)<br>=&gt;<br>"Please fill out this field!"</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q81b2c4e1-2b53-4ac8-9571-613d57d946f8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8ce27617-369b-4ec5-940a-e693c141f10b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="get-input-value"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-value</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb2724239-2a9a-4ce1-86d9-f021d25c9ce0"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb2724239-2a9a-4ce1-86d9-f021d25c9ce0&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-value
  [input-id]
  (if-let [get-value-f (common-state/get-state :form-validator input-id :get-value-f)]
          (get-value-f)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q84b76fbe-2700-4b72-b655-73d13f69cf75"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the 'get-value-f' function of the input and returns the result.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q10d6f6ac-7f6f-4d12-9c8b-1f5eef858d15"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-value :my-input)<br>=&gt;<br>"..."</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6e81d0fc-2791-459f-99e4-c91a6fa15887"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qff16cdfc-c5b3-4467-9e4a-2afc21696f87"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="get-input-validators"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-validators</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q08d559c9-baf5-48fb-ac0b-04c77ae5e3f8"><button class="snippet--header" onClick="toggleCollapsible(&apos;q08d559c9-baf5-48fb-ac0b-04c77ae5e3f8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-validators
  [input-id]
  (common-state/get-state :form-validator input-id :validators))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q01e0b8af-89fd-4090-a519-56fd216727b7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the validators of the input.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf445f224-0571-48d6-8449-c24a511a881e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validators :my-input)<br>=&gt;<br>[{:error "Please fill out this field!" :test-f #(-&gt; % empty? not)}]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q71cf5161-3365-42c9-be94-cb13fb12cd48"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd30b2136-32f0-41c0-9e15-030ba531fc04"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd30b2136-32f0-41c0-9e15-030ba531fc04&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">maps in vector</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(map) validator<br>  {:error (*)<br>   :test-f (function)}]</pre></div></div></div></div><div class="section" id="validate-input-when-change_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input-when-change?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf4f10107-f712-4254-a850-a574bd772134"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf4f10107-f712-4254-a850-a574bd772134&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input-when-change?
  [input-id]
  (common-state/get-state :form-validator input-id :validate-when-change?))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q45279989-297c-46d5-9549-99fbafc1c799"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the input is registered with the '{:validate-when-change? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4ab0dd0d-fec2-4f90-ab85-1bd7e90ea9e3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input-when-change? :my-input)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q536d6fb3-96d0-450f-a9c5-dcdd44adda95"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5613ed50-97dc-40f4-af6d-1678802986a5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="validate-input-when-leave_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input-when-leave?</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q65ca5274-e821-47e0-8089-cc5b049d23b3"><button class="snippet--header" onClick="toggleCollapsible(&apos;q65ca5274-e821-47e0-8089-cc5b049d23b3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input-when-leave?
  [input-id]
  (common-state/get-state :form-validator input-id :validate-when-leave?))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q050a4cea-9adb-446a-b5f0-f109e5ef5489"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns TRUE if the input is registered with the '{:validate-when-leave? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8922a626-6c23-41fb-95ad-645e584a2425"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input-when-leave? :my-input)<br>=&gt;<br>true</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3f12c98d-a95f-4d70-aa3a-dcffc71f369c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2a3664cd-1276-44bc-b2dd-13b792a5da1a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">boolean</pre></div></div></div></div><div class="section" id="get-input-validation-result"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-input-validation-result</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6b2de426-bf64-489e-b321-9fff6521f886"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6b2de426-bf64-489e-b321-9fff6521f886&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-input-validation-result
  [input-id]
  (let [input-value      (get-input-value      input-id)
        input-validators (get-input-validators input-id)]
       (letfn [(f0 [{:keys [test-f error]}]
                   (if test-f (if-not (-&gt; input-value test-f)
                                      (-&gt; error (or :invalid-input-value)))))]
              (if-let [error (vector/first-result input-validators f0)]
                      {:input-id input-id :input-value input-value :input-valid? false :error error}
                      {:input-id input-id :input-value input-value :input-valid? true}))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd3e1ae6e-fc40-406f-bf0f-6f78f577b337"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Applies the validators of the input and returns the result of the validation.<br>- Stops applying further validators in case of one failed.<br>- The returned result contains the invalid message of the first failed validator.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb2a697f3-694d-4699-b8a4-29b77a8fa3e2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? false :error "Please fill out this field!"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q95d64b1c-21ba-40c9-8fc5-777e05fd33e8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-input-validation-result :my-input)<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? true}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1fc3e635-e0c8-4429-8953-e6c317a902a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qbcb18037-4765-4977-8b85-6597de936813"><button class="snippet--header" onClick="toggleCollapsible(&apos;qbcb18037-4765-4977-8b85-6597de936813&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:error (*)<br> :input-id (keyword)<br> :input-valid? (boolean)<br> :input-value (*)}</pre></div></div></div></div><div class="section" id="reg-form-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-form-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q000e99a2-4b02-48f9-85b9-44cbef51d255"><button class="snippet--header" onClick="toggleCollapsible(&apos;q000e99a2-4b02-48f9-85b9-44cbef51d255&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-form-input!
  [input-id input-props]
  (common-state/assoc-state! :form-validator input-id input-props))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf24d47c0-871a-4768-b213-2c0c441d54f0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stores the given properties of the input (in the form validator state).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7d4b9614-10e4-4610-ad8e-544ca37797e8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-form-input! :my-input {:form-id     :my-form<br>                            :get-value-f #(deref MY-ATOM)<br>                            :validators  [{:error "Please fill out this field!" :test-f #(-&gt; % empty? not)}]})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q52e1c5ed-c512-4b77-addf-fb7f4c94293e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcc7f9b71-17bf-486f-9fba-1ade96a8064a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcc7f9b71-17bf-486f-9fba-1ade96a8064a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:form-id (keyword)(opt)<br> :get-value-f (function)<br> :validate-when-change? (boolean)(opt)<br> :validate-when-leave? (boolean)(opt)<br> :validators (maps in vector)(opt)<br>  [{:error (*)(opt)<br>    :test-f (function)}]<br> ...}</pre></div></div></div></div><div class="section" id="dereg-form-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">dereg-form-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd0dddbf3-8fc9-4739-b95b-2fb648a1e2dd"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd0dddbf3-8fc9-4739-b95b-2fb648a1e2dd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn dereg-form-input!
  [input-id]
  (common-state/dissoc-state! :form-validator input-id))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q217f1d02-9f83-485d-add3-efde432923ca"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes the properties of the input (from the form validator state).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbf8329bd-0d4d-4dc6-a9c7-d15848ab0f28"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(dereg-form-input! :my-input)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qedb38c02-6c07-400a-a3df-39fb5a47f28b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div></div></div><div class="section" id="autovalidate-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">autovalidate-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5544bef8-db29-4730-acf7-c5042393bc7e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5544bef8-db29-4730-acf7-c5042393bc7e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn autovalidate-input!
  [input-id]
  (common-state/assoc-state! :form-validator input-id :validate-when-change? true))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q548370d7-1f7d-4d33-9699-6e6edd21382e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Sets the ':validate-when-change?' property to TRUE of the input, to ensure that it is getting validated when its value changes.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5bdd2419-e431-47df-86ac-c74365aa09ce"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(autovalidate-input! :my-input)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q247f44b4-5f1a-4d9d-8df7-29018e6e32cd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div></div></div><div class="section" id="validate-input_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">validate-input!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc215b44c-924a-42ae-a749-41f8e8c2f7bf"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc215b44c-924a-42ae-a749-41f8e8c2f7bf&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn validate-input!
  [input-id {:keys [on-invalid-f on-valid-f]}]
  (let [validation-result (input.env/get-input-validation-result input-id)]
       (letfn [(f0 [_] (common-state/dissoc-state! :form-validator input-id :error))
               (f1 [%] (common-state/assoc-state!  :form-validator input-id :error (:error %)))
               (f2 [%] (if on-valid-f   (on-valid-f   (:input-value %))))
               (f3 [%] (if on-invalid-f (on-invalid-f (:input-value %) (:error %))))]
              (when (-&gt; validation-result :input-valid?)
                    (-&gt; validation-result f0)
                    (-&gt; validation-result f2))
              (when (-&gt; validation-result :input-valid? not)
                    (-&gt; validation-result f1)
                    (-&gt; validation-result f3))
              (-&gt; validation-result))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdedc8e46-3865-42a8-9002-bef90c13f767"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Applies the validators of the input ...<br>... and in case of ANY validator failed, it ...<br>    ... stores the ':error' value of the first failed validator in the form validator state,<br>    ... fires the given ':on-invalid-f' function (if any),<br>... and in case of NO validator failed, it ...<br>    ... clears the previously stored ':error' value (if any) from the form validator state,<br>    ... fires the given ':on-valid-f' function (if any),</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5ca837ad-8b4e-47ff-9ebc-44287ec9f066"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(validate-input! :my-input {...})<br>=&gt;<br>{:input-id :my-input :input-value "..." :input-valid? true}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9683db68-5a8f-48c9-b262-c603174f1a05"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0347c6ea-17d0-45ca-97d4-ab92bbb40c84"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0347c6ea-17d0-45ca-97d4-ab92bbb40c84&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4e25319c-aef0-4a6b-bb41-d02d1561e336"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4e25319c-aef0-4a6b-bb41-d02d1561e336&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:error (*)<br> :input-id (keyword)<br> :input-valid? (boolean)<br> :input-value (*)}</pre></div></div></div></div><div class="section" id="input-changed"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">input-changed</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd792783b-2e66-4c17-938e-a0b6395457a1"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd792783b-2e66-4c17-938e-a0b6395457a1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn input-changed
  [input-id validation-props]
  (if (input.env/validate-input-when-change? input-id)
      (validate-input!                       input-id validation-props)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5b2347e6-6712-4400-b95e-6943b3cce5ac"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Validates the input in case it is registered with the '{:validate-when-change? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9ab270d3-80e4-4160-aa8d-b7c8a7faebd7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(input-changed :my-input {...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4e0f27b7-9650-4beb-bc94-fd306d75fdd0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa791c33d-af33-4386-9df6-6c8b776918f6"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa791c33d-af33-4386-9df6-6c8b776918f6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div></div></div><div class="section" id="input-left"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">input-left</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf048c2e0-849f-4f4f-a4e2-71d7043c50b8"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf048c2e0-849f-4f4f-a4e2-71d7043c50b8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn input-left
  [input-id validation-props]
  (if (input.env/validate-input-when-leave? input-id)
      (validate-input!                      input-id validation-props)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5db886e2-7fe4-4a38-8b3c-2d5b4b9b6d30"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Validates the input in case it is registered with the '{:validate-when-leave? true}' setting.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q71a09615-3351-4c4a-b810-17f425af6240"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(input-left :my-input {...})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2bdc4c7c-21bf-4a07-893e-cc49a9276df1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">input-id</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qddbb7fe7-b5fa-4ebf-a92b-25b7a7601c85"><button class="snippet--header" onClick="toggleCollapsible(&apos;qddbb7fe7-b5fa-4ebf-a92b-25b7a7601c85&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">validation-props</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:on-invalid-f (function)(opt)<br> :on-valid-f (function)(opt)}</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">cljc-form-validator</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.1.0.6</pre><a class="text--s" href="https://github.com/mt-app-kit/cljc-form-validator" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-app-kit/cljc-form-validator</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
